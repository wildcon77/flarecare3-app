<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlareCare AI</title>

    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f7f7f7;
        }

        h1 {
            font-weight: 700;
            margin-bottom: 15px;
        }

        textarea {
            width: 100%;
            height: 160px;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #ccc;
            resize: none;
            font-size: 15px;
        }

        button {
            margin-top: 12px;
            padding: 10px 18px;
            border: none;
            background: #007AFF;
            color: white;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
        }

        button:hover {
            background: #005fcc;
        }

        #result {
            margin-top: 20px;
            padding: 16px;
            background: white;
            border-radius: 8px;
            white-space: pre-line;
            border: 1px solid #ddd;
            line-height: 1.6;
        }
    </style>
</head>

<body>

    <h1>FlareCare AI</h1>
    <p>í™ì¡°Â·í”¼ë¶€Â·ì‹ë‹¨Â·ìƒí™œíŒ¨í„´ ì…ë ¥í•˜ë©´ AIê°€ ìë™ ë¶„ì„í•´ë“œë¦½ë‹ˆë‹¤.</p>

    <textarea id="userInput" placeholder="ì˜ˆ: ì–´ì œ ìˆ˜ë©´ ë¶€ì¡±í–ˆê³  ì˜¤ëŠ˜ ì¹˜ì¦ˆÂ·ì»¤í”¼ ë¨¹ì—ˆìŠµë‹ˆë‹¤. ì–¼êµ´ì´ ë”°ê°‘ê³  ì—´ê°ì´ ëŠê»´ì ¸ìš”."></textarea>

    <button onclick="analyze()">AI ë¶„ì„í•˜ê¸°</button>

    <div id="result"></div>

    <script>
        function analyze() {
            const text = document.getElementById("userInput").value.trim();
            const resultBox = document.getElementById("result");

            if (!text) {
                resultBox.innerHTML = "âš ï¸ ì…ë ¥ëœ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.";
                return;
            }

            // --- ë‹¨ìˆœ ê·œì¹™ ê¸°ë°˜ ë¶„ì„ ë¡œì§ ---
            let risk = 0;
            let foods = [];
            let lifestyle = [];
            let symptoms = [];
            let suggestions = [];

            const lower = text.toLowerCase();

            // ìŒì‹ íŠ¸ë¦¬ê±° ë¶„ì„
            if (lower.includes("ì¹˜ì¦ˆ") || lower.includes("ë²„í„°") || lower.includes("ìš°ìœ ")) {
                foods.push("ìœ ì œí’ˆ ì„­ì·¨");
                risk += 1;
            }
            if (lower.includes("ë¹µ") || lower.includes("ê¸€ë£¨í…") || lower.includes("ë¼ë©´")) {
                foods.push("ë°€ê°€ë£¨/ê¸€ë£¨í… ì„­ì·¨");
                risk += 1;
            }
            if (lower.includes("ì»¤í”¼") || lower.includes("ì¹´í˜ì¸")) {
                foods.push("ì¹´í˜ì¸");
                risk += 1;
            }
            if (lower.includes("ë§¤ìš´") || lower.includes("ë¼ë©´")) {
                foods.push("ë§¤ìš´ ìŒì‹");
                risk += 1;
            }

            // ìƒí™œ íŒ¨í„´ ë¶„ì„
            if (lower.includes("ìˆ˜ë©´") || lower.includes("ì ì„") || lower.includes("ëª»")) {
                lifestyle.push("ìˆ˜ë©´ ë¶€ì¡± ê°€ëŠ¥ì„±");
                risk += 1;
            }
            if (lower.includes("ìŠ¤íŠ¸ë ˆìŠ¤") || lower.includes("ë¶ˆì•ˆ")) {
                lifestyle.push("ìŠ¤íŠ¸ë ˆìŠ¤ ì˜í–¥");
                risk += 1;
            }

            // ì¦ìƒ ë¶„ì„
            if (lower.includes("í™ì¡°") || lower.includes("ë¹¨ê°œì§")) {
                symptoms.push("í™ì¡° ì¦ìƒ");
            }
            if (lower.includes("ë”°ê°‘") || lower.includes("ì—´ê°")) {
                symptoms.push("ì—´ê°/ë”°ê°€ì›€");
                risk += 1;
            }

            // ìœ„í—˜ë„ í‰ê°€
            let riskLabel = "";
            if (risk <= 1) riskLabel = "ë‚®ìŒ";
            else if (risk === 2) riskLabel = "ì¤‘ê°„";
            else riskLabel = "ë†’ìŒ";

            // ê°œì„  ì œì•ˆ ìë™ ìƒì„±
            if (risk >= 3) {
                suggestions.push("ìê·¹ ìŒì‹Â·ì¹´í˜ì¸ ìµœì†Œ 48ì‹œê°„ ì¤‘ë‹¨");
                suggestions.push("ìˆ˜ë¶„ ì„­ì·¨ + ì‹¤ë‚´ ì˜¨ë„ 18~21ë„ ìœ ì§€");
                suggestions.push("ì¿¨ë§ ì ¤ ë˜ëŠ” ì•Œë¡œì— ì§„ì •");
            } else if (risk === 2) {
                suggestions.push("ì˜¤ëŠ˜ì€ ìœ ì œí’ˆ/ì¹´í˜ì¸ í”¼í•˜ëŠ” ê²ƒì„ ê¶Œì¥");
                suggestions.push("ë¯¸ì˜¨ìˆ˜ ì„¸ì•ˆ ìœ ì§€");
            } else {
                suggestions.push("í° ë¬¸ì œëŠ” ì—†ì–´ ë³´ì´ë‚˜ íŒ¨í„´ ëª¨ë‹ˆí„°ë§ ê¶Œì¥");
            }

            // ê²°ê³¼ ì¶œë ¥
            resultBox.innerHTML =
                `ğŸ“Š <strong>AI ë¶„ì„ ê²°ê³¼</strong>\n\n` +
                `â–  ğŸ”¥ í™ì¡° ìœ„í—˜ë„: <strong>${riskLabel}</strong>\n\n` +
                `â–  ğŸ½ ì‹ë‹¨ íŠ¸ë¦¬ê±°: ${foods.length > 0 ? foods.join(", ") : "í•´ë‹¹ ì—†ìŒ"}\n` +
                `â–  ğŸ§¬ ìƒí™œ íŒ¨í„´: ${lifestyle.length > 0 ? lifestyle.join(", ") : "íŠ¹ì´ì‚¬í•­ ì—†ìŒ"}\n` +
                `â–  ğŸ©¸ ì¦ìƒ: ${symptoms.length > 0 ? symptoms.join(", ") : "ì¦ìƒ ì •ë³´ ë¶€ì¡±"}\n\n` +
                `â–  ğŸ§¯ ì¶”ì²œ í–‰ë™:\n- ${suggestions.join("\n- ")}`;
        }
    </script>
</body>
</html>
